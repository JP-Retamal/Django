{% extends "base.html" %}

{% block title %} Registro {% endblock %}

{% block content %}

<div class="registro-contenedor centrar-contenedor">
	<div class="ventana-registro">
		<div class="ventana-titulo">
			<h2 class="ventana-titulo__h1">Formulario de Registro</h2>
		</div>
		<form id="registro-formulario" action="" method="POST">
		{% csrf_token %}
			<div class="registro-contenedor-formulario grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3">
				<!-- Identificacion -->
				<div class="contenedor-inputs">
					<input id="registro-rut" name="registro-rut" type="text"
						class="input focus:outline-none focus:border-orange-500"
						placeholder="Run o Pasaporte"required maxlength="10" minlength="10"/>
					<div class="contenedor-inputs-error">
						<span class="contenedor-inputs-error__span">El Run ingresado no es valido. En caso de
							ser
							el numero de pasaporte, favor activar la opcion "Es Pasaporte?".</span>
					</div>
				</div>
				<div class="registro-contenedor-checkboxs flex justify-center">
					<p class="font-lato m-4">Es pasaporte?</p>
					<input id="registro-pasaporte" name="registro-pasaporte" type="checkbox"
						class="registro-contenedor-checkboxs__checkbox" />
				</div>
				
				<div class="contenedor-inputs">
					<input id="registro-fecha" name="registro-fecha" type="text"
						class="input appearance-none focus:outline-none focus:border-orange-500"
						placeholder="Fecha de Nacimiento" required maxlength="10" minlength="10"/>
					<!-- <div class="contenedor-inputs-error block">
						<span class="contenedor-inputs-error__span">Fecha ingresada no valida. Ej.
							{{ fechaActual|date:"d/m/Y" }}.</span>
					</div> -->
				</div>
				<!-- Nombre Completo -->
				<div class="contenedor-inputs">
					<input id="registro-nombre" name="registro-nombre" type="text"
						class="input focus:outline-none focus:border-orange-500"
						placeholder="Nombre" required maxlength="50"/>
					<div class="contenedor-inputs-error">
						<span class="contenedor-inputs-error__span">Solo se aceptan caracteres
							alfabeticos.</span>
					</div>
				</div>
				<div class="contenedor-inputs">
					<input id="registro-Paterno" name="registro-Paterno" type="text"
						class="input focus:outline-none focus:border-orange-500"
						placeholder="Apellido Paterno" required maxlength="25"/>
					<div class="contenedor-inputs-error">
						<span class="contenedor-inputs-error__span">Solo se aceptan caracteres
							alfabeticos.</span>
					</div>
				</div>
				<div class="contenedor-inputs">
					<input id="registro-materno" name="registro-materno" type="text"
						class="input focus:outline-none focus:border-orange-500"
						placeholder="Apellido Materno" required maxlength="25"/>
					<div class="contenedor-inputs-error">
						<span class="contenedor-inputs-error__span">Solo se aceptan caracteres
							alfabeticos.</span>
					</div>
				</div>
				<!-- Correo y Numero -->
				<div class="contenedor-inputs lg:col-span-2">
					<input id="registro-correo" name="registro-correo" type="email"
						class="input focus:outline-none focus:border-orange-500"
						placeholder="Correo Electronico" required maxlength="250"/>
					<div class="contenedor-inputs-error">
						<span class="contenedor-inputs-error__span">Correo ingresado no valido. Solo se aceptan
							caracteres alfanumericos, guiones o puntos.</span>
					</div>
				</div>
				<div class="contenedor-inputs">
					<input id="registro-celular" name="registro-celular" type="text"
						class="input focus:outline-none appearance-none focus:border-orange-500"
						placeholder="Numero de Telefono" required maxlength="9" minlength="9"/>
					<div class="contenedor-inputs-error">
						<span class="contenedor-inputs-error__span">Solo se aceptan caracteres numericos. Ej.
							56 9 XXXX XXXX</span>
					</div>
				</div>
				<!-- Direccion -->
				<div class="contenedor-inputs lg:col-span-3">
					<input id="registro-direccion" name="registro-direccion" type="text"
						class="input lg:w-full focus:outline-none focus:border-orange-500"
						placeholder="Direccion" required maxlength="150"/>
					<div class="contenedor-inputs-error">
						<span class="contenedor-inputs-error__span">Solo se aceptan caracteres
							alfabeticos.</span>
					</div>
				</div>
				<!-- Selects -->
				<div class="contenedor-selects">
					<select id="registro-region" name="registro-region"
						class="contenedor-selects__select focus:outline-none focus:border-orange-500" required>
						{% for p in region %}
							<option valua=""></option>
							<option value="{{ p.0 }}">{{ p.0 }}</option>
						{% endfor %}
					</select>
					<!-- <i class="fas fa-angle-down absolute right-0 mr-2"></i> -->
				</div>
				<div class="contenedor-selects">
					<select id="registro-provincia" name="registro-provincia"
						class="contenedor-selects__select focus:outline-none focus:border-orange-500" required>
						{% for p in region %}
							<option valua=""></option>
							<option value="{{ p.1 }}">{{ p.1}}</option>
						{% endfor %}
					</select>
					<!-- <i class="fas fa-angle-down absolute right-0 mr-2"></i> -->
				</div>
				<div class="contenedor-selects">
					<select id="registro-comuna" name="registro-comuna"
						class="contenedor-selects__select focus:outline-none focus:border-orange-500" required>
						{% for p in region %}
							<option valua=""></option>
							<option value="{{ p.2 }}">{{ p.3 }}</option>
						{% endfor %}
					</select>
					<!-- <i class="fas fa-angle-down absolute right-0 mr-2"></i> -->
				</div>
				<!-- Contrasenia -->
				<div class="contenedor-inputs">
					<input id="registro-contrasenia1" name="registro-contrasenia1" type="password"
						class="input focus:outline-none focus:border-orange-500"
						placeholder="Contraseña" minlength="6" required/>
					<div class="contenedor-inputs-error">
						<span class="contenedor-inputs-error__span"></span>
						<div id="mensaje"></div>
					</div>
					<!-- <ul>				
						<li id="special">Caracter especial</li>
						<li id="numbers">Números</li>
						<li id="lower">Letras</li>
						<li id="len">Mínimo 8 caractéres</li>
					</ul>-->
				</div>
				<div class="contenedor-inputs">
					<input id="registro-contrasenia2" name="registro-contrasenia2" type="password"
						class="input focus:outline-none focus:border-orange-500"
						placeholder="Repita Contraseña" minlength="6" required/>
					<div class="contenedor-inputs-error">
						<span class="contenedor-inputs-error__span" id="mensaje2">Las contrasenias no coincides.</span>
					</div>
					<!--<ul>				
						<li id="pass2">Contraseña1 = Contraseña2</li>
					</ul> -->
				</div>
				<!-- Btn -->
				<div class="contenedor-btns md:col-span-2 lg:col-span-3">
					<button type="submit" class="formulario-login__btn btn w-full focus:outline-none">
						Registrarse
					</button>
					<span class="block font-lato text-sm text-center mt-2">Al registrarte, aceptas nuestras condiciones de uso y políticas de privacidad</span>
					<br>
				</div>
			</div>
		</form>
	</div>
</div>

<!-- 
<div class="registro-contenedor-selects">
	<div class="registro-contenedor-selects__select relative">
		<span>Selecciona</span> 
	<i class="fas fa-angle-down absolute right-0 mr-2"></i>
	</div>

		<div class="registro-contenedor-options">
			<div class="registro-contenedor-options__option">
				<input type="radio" class="registro-contenedor-options__radio"><label for="" class="registro-contenedor-options__label">Region 1</label>
			</div>
		</div>
</div>

<script>
	const seleccionado = document.querySelector('.registro-contenedor-selects__select');
	const contenedorOpciones = document.querySelector('.registro-contenedor-options');
	const opciones = document.querySelectorAll('.registro-contenedor-options__option');

	seleccionado.addEventListener('click', () => contenedorOpciones.classList.toggle('registro-contenedor-options--activo'))
	opciones.forEach(item => {
		item.addEventListener('click', () => {
			seleccionado.innerHTML = item.querySelector('label').innerHTML;
			contenedorOpciones.classList.remove('registro-contenedor-options--activo');
		});
	});

</script>

<style>
.registro-contenedor-options{
	background-color: #f7fafc;
	max-height: 0;
	width: 100%;
	opacity: 0;
	transition: all 0.5s;
	border-radius: 4px;
	overflow: hidden;
}

.registro-contenedor-options::-webkit-scrollbar{
	width: 10px;
	background-color: #ed8936;
	border-radius: 0 8px 8px 0;
}

.registro-contenedor-options::-webkit-scrollbar-thumb{
	background-color: #48bb78;
	border-radius: 0 8px 8px 0;
}

.registro-contenedor-options--activo{
	max-height: 100px;
	opacity: 1;
	overflow-y: scroll;
}

.registro-contenedor-selects__select,.registro-contenedor-options__option{
	cursor: pointer;
	padding: 12px 24px;
}

.registro-contenedor-options__label{
	cursor: pointer;
}

.registro-contenedor-options__option:hover{
	background-color: #edf2f7;
}

.registro-contenedor-options__radio{
	display: none;
}
</style> -->

<script>
	// Inicio DatePicker JQuery
	$.datepicker.regional['es'] = {
		closeText: 'Cerrar',
		prevText: '< Ant',
		nextText: 'Sig >',
		currentText: 'Hoy',
		monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre',
			'Noviembre', 'Diciembre'
		],
		monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
		dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
		dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Juv', 'Vie', 'Sáb'],
		dayNamesMin: ['Do', 'Lu', 'Ma', 'Mi', 'Ju', 'Vi', 'Sá'],
		weekHeader: 'Sm',
		dateFormat: 'dd/mm/yy',
		firstDay: 1,
		isRTL: false,
		showMonthAfterYear: false,
		yearSuffix: ''
	};
	$.datepicker.setDefaults($.datepicker.regional['es']);

	$('#registro-fecha').datepicker({
		changeMonth: true,
		changeYear: true,
		maxDate: "+0D-18Y",
		minDate: "-100Y"
	});
	// Fin DatePicker JQuery


	// Inicio Select Select2
	$(document).ready(function () {
		const selects = document.getElementsByTagName('select');
		const selectsName = ['Region', 'Provincia', 'Comuna'];

		for (let index = 0; index < selects.length; index++) {
			$(`#${selects[index].id}`).select2({
				placeholder: `Selecciona ${selectsName[index]}`,
				language: {
					noResults: function () {
						return "No hay resultado";
					},
					searching: function () {
						return "Buscando..";
					}
				}
			// theme: "default registro-contenedor-selects__select"
			});
		}
	});
	// Fin Select Select2
</script>

{% endblock %}